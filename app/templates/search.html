{% extends "base.html" %}

{% block body_class %}search-page{% endblock %}

{% block content %}
<div class="search-container">
    <h1>Search Users</h1>
    <form action="" method="post" novalidate class="search-form" autocomplete="off">
        {{ form.hidden_tag() }}
        <p class="field">
            {{ form.search_user(size=32, placeholder=form.search_user.label.text) }}
        </p>
        <p class="actions">{{ form.submit() }}</p>
    </form>

    {% if results is not none %}
        {% if results %}
            <ul class="results-container" data-url="{{ url_for('main.search_user') }}" data-query="{{ query or '' }}" data-has-more="{{ 'true' if has_more else 'false' }}">
            {% for user in results %}
                {% include '_user_item.html' %}
            {% endfor %}
            </ul>
        {% else %}
            <p>No users found.</p>
        {% endif %}
    {% endif %}
</div>
{% endblock %}